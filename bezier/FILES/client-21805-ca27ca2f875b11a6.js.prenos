(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[21805],{38765:(e,t,o)=>{"use strict";o.d(t,{U:()=>g});var i=o(77808),n=o(37740),r=o(72436),a=o(23619),l=o(2359),d=o(30330);const s=(0,r.zo)("div",(e=>({...e.$isBold?e.$theme.typography.LabelMedium:e.$theme.typography.ParagraphMedium,display:"flex",justifyContent:"space-between"}))),c=(0,r.zo)("div",{display:"flex",flexDirection:"row",alignItems:"center"}),u=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary}}));function h(e){return(0,d.BX)(c,{children:[e.endTitleIconUrl?(0,d.BX)(d.HY,{children:[(0,d.tZ)(l.Z,{src:e.endTitleIconUrl,width:"16",height:"16"}),(0,d.tZ)(a.ZP,{$width:"8px"})]}):null,e.endTitle]})}const g=e=>e.paragraphs?e.paragraphs.map((e=>(0,d.BX)(i.Fragment,{children:[(0,d.tZ)(n.ZP,{$height:16}),(0,d.BX)(s,{$isBold:e.isTitleBold||!1,children:[(0,d.tZ)("div",{children:e.title}),e.endTitle?(0,d.BX)(d.HY,{children:[(0,d.tZ)(a.ZP,{$width:"8px"}),(0,d.tZ)(h,{endTitle:e.endTitle,endTitleIconUrl:e.endTitleIconUrl})]}):null]}),(0,d.tZ)(u,{children:e.subtitle})]},e.title))):null},93030:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var i=o(18898),n=o(72436),r=o(37740),a=o(81327),l=o(30330);const d=e=>({body1:{fontSize:e.typography.ParagraphXSmall.fontSize,lineHeight:e.typography.ParagraphXSmall.lineHeight},body2:{fontSize:e.typography.ParagraphSmall.fontSize,lineHeight:e.typography.ParagraphSmall.lineHeight},body3:{fontSize:e.typography.ParagraphMedium.fontSize,lineHeight:e.typography.ParagraphMedium.lineHeight},title1:{fontSize:e.typography.ParagraphLarge.fontSize,lineHeight:e.typography.ParagraphLarge.lineHeight},title2:{fontSize:e.typography.HeadingXSmall.fontSize,lineHeight:e.typography.HeadingXSmall.lineHeight},title3:{fontSize:e.typography.HeadingSmall.fontSize,lineHeight:e.typography.HeadingSmall.lineHeight},title4:{fontSize:e.typography.HeadingMedium.fontSize,lineHeight:e.typography.HeadingMedium.lineHeight},title5:{fontSize:"44px",lineHeight:"52px"},title6:{fontSize:"48px",lineHeight:"56px"}}),s=(e,t,o)=>({...t?{fontFamily:"medium"===t?e.typography.LabelMedium.fontFamily:e.typography.ParagraphMedium.fontFamily}:null,...o?d(e)[o]:null}),c=(0,n.zo)("div",{display:"table"}),u=(0,n.zo)("img",{verticalAlign:"middle"}),h=(0,n.zo)("span",(e=>{let{$color:t,$fontSize:o,$fontStyle:i,$textDecoration:n,$theme:r}=e;return{...s(r,i,o),...t?{color:t in r.colors?r.colors[t]:t}:null,...n?{textDecoration:n}:null,verticalAlign:"middle"}})),g=(0,n.zo)("a",(e=>{let{$color:t,$fontSize:o,$fontStyle:i,$theme:n}=e;return{...(0,a.lE)({$theme:n}),...s(n,i,o),verticalAlign:"middle",...t?{color:t in n.colors?n.colors[t]:t}:{}}}));function p(e){return(0,l.tZ)(l.HY,{children:e.lines.map(((t,o)=>(0,l.BX)(i.Fragment,{children:[(0,l.tZ)(c,{children:t.children.map(((e,t)=>"img"===e.type?(0,l.tZ)(u,{width:e.width,height:e.height,src:e.url},t):"text"===e.type?(0,l.tZ)(h,{...e.$as?{$as:e.$as}:null,$color:e.color,$fontStyle:e.fontStyle,$fontSize:e.fontSize,$textDecoration:e.textDecoration,children:e.text},t):"anchor"===e.type?(0,l.tZ)(g,{href:e.href,$color:e.color,$fontStyle:e.fontStyle,$fontSize:e.fontSize,children:e.text},t):null))}),"paragraph"===t.breakStyle&&o!==e.lines.length-1?(0,l.tZ)(r.ZP,{$height:16}):null,"heading"===t.breakStyle?(0,l.tZ)(r.ZP,{$height:8}):null]},o)))})}},66209:(e,t,o)=>{"use strict";o.d(t,{TO:()=>d,zx:()=>c});var i=o(64599),n=o(45600),r=o(84715),a=o(72436),l=o(30330);const d={...i.TO,action:"action",destructive:"destructive",monochromatic:"monochromatic"},s=r.aO;function c(e){const[,t]=(0,a.hQ)(),o=function(e,t){const{overrides:o,isFullWidth:n,kind:a,...l}=e;let c=l,u={};return n&&(u=s(u,{BaseButton:{style:{width:"100%",boxSizing:"border-box"}}})),void 0!==e.shape&&e.shape!==i.X3.default||!t.componentDefaults.button.defaultShapeTypography||(u=s(u,{BaseButton:{style:{...t.componentDefaults.button.defaultShapeTypography}}})),e.kind===d.action?(c.kind=void 0,e.disabled||(e.isSelected&&(u=s(u,{BaseButton:{style:{color:t.colors.buttonActionText,backgroundColor:t.colors.buttonActionFill}}})),u=s(u,{BaseButton:{style:{color:t.colors.buttonActionText,backgroundColor:t.colors.buttonActionFill,":hover":{backgroundColor:e.isLoading?t.colors.buttonActionActive:t.colors.buttonActionHover},":active":{backgroundColor:t.colors.buttonActionActive}}}}))):e.kind===d.monochromatic?(c.kind=void 0,e.disabled||(e.isSelected&&(u=s(u,{BaseButton:{style:{color:t.colors.black,backgroundColor:t.colors.white}}})),u=s(u,{BaseButton:{style:{color:t.colors.black,backgroundColor:t.colors.white,":hover":{backgroundColor:e.isLoading?t.colors.whiteActive:t.colors.whiteHover},":active":{backgroundColor:t.colors.whiteActive}}}}))):e.kind===d.destructive?(c.kind=void 0,e.disabled||(e.isSelected&&(u=s(u,{BaseButton:{style:{color:t.colors.negative,backgroundColor:t.colors.buttonTertiarySelectedFill}}})),u=s(u,{BaseButton:{style:{color:t.colors.negative,backgroundColor:t.colors.buttonTertiaryFill,":hover":{backgroundColor:e.isLoading?t.colors.buttonTertiaryActive:t.colors.buttonTertiaryHover},":active":{backgroundColor:t.colors.buttonTertiaryActive}}}}))):e.kind&&e.kind in i.TO&&(c.kind=e.kind),o&&(u=(0,r.aO)(u,o)),0===Object.keys(u).length?c:{...c,overrides:u}}(e,t);return(0,l.tZ)(n.Z,{...o})}c.defaultProps={disabled:!1,isLoading:!1,isSelected:!1,kind:i.TO.primary,overrides:{},shape:i.X3.default,size:i.NO.default}},28848:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var i=o(77808),n=o(92354),r=o(30778),a=o(21888),l=o(60025),d=o(68587),s=o(16895),c=o(93583),u=o(7520),h=o(43610),g=o(42269),p=o(62670),m=o(4878);function f(e,t){var o;const f=(0,r.I0)(),v=(0,n.T)(),{cacheKey:S}=(0,c.Z)(),{feedItemsUpdate:k,getFeedItemsUpdate:w}=(0,s.Z)(),z=(0,a.v)((e=>{let{countdowns:t}=e;return t})),T=(0,a.v)((e=>{let{feed:t}=e;return(0,h._z)(t,S)})),{serverCart:U}=(0,m.iQ)(),x=(0,p.Z)({storeUuid:null===(o=U.data)||void 0===o?void 0:o.storeUuid}),Z=(0,u.VA)({countdowns:z&&z.data||[],countdownLabel:e,feedItemUuid:t.feedItemUuid,storeUuid:t.storeUuid}),H=(0,u.VA)({countdowns:T&&T.data&&T.data.countdowns||[],countdownLabel:e,feedItemUuid:t.feedItemUuid,storeUuid:t.storeUuid}),$=(null==H?void 0:H.timestamp.end)||(null==Z?void 0:Z.timestamp.end),[I,B]=(0,i.useState)(b($)),[L,A]=(0,i.useState)(Math.floor(I/60));(0,i.useEffect)((()=>{let e;return t.createTimer&&(e=setTimeout((()=>{const e=b($);e!==I&&B(e)}),1e3)),()=>clearTimeout(e)}),[$,t.createTimer,I]),(0,i.useEffect)((()=>{if(0===I&&!k.isLoading&&!k.hasLoaded){const e=t.feedItemUuid||t.storeUuid;f((0,l.X2)(e)),f((0,d.hW)()),f((0,h.iO)({cacheKey:S,feedItemOrStoreUuid:e})),f((0,g.Lu)("ASAP"))}}),[S,f,k.hasLoaded,k.isLoading,t.feedItemUuid,t.storeUuid,I]),(0,i.useEffect)((()=>{0===I&&!k.isLoading&&!k.hasLoaded&&t.feedItemUuid&&Z&&H&&Z.timestamp.end===H.timestamp.end&&w([t.feedItemUuid])}),[Z,H,k.hasLoaded,k.isLoading,w,t.feedItemUuid,I]),(0,i.useEffect)((()=>{I>0&&!k.isLoading&&k.hasLoaded&&(f((0,h.A5)({cacheKey:S})),x&&f((0,g.Lu)("BANDWAGON")))}),[S,f,k.hasLoaded,k.isLoading,x,I]);const F=Math.floor(I/60),D=[0,1].includes(I%60)&&F>0;D&&L!==F&&A(F);const P=L>1?v("bandwagon.x_minutes_left",{time:L}):v("bandwagon.one_minute_left"),C=(null==H?void 0:H.totalDurationInSeconds)||(null==Z?void 0:Z.totalDurationInSeconds);return{countdown:Z,formattedTimeLeft:y(I),percentTimeLeft:I/(C||I),minuteMessage:P,shouldPulse:I<=61,shouldShowMinuteMessage:D,timeLeft:I}}const y=e=>{const t=Math.floor(e/60);let o=String(e%60);return 1===o.length&&(o="0".concat(o)),"".concat(t,":").concat(o)},b=e=>{if(null==e)return-1;const t=Date.now(),o=parseInt((e-t)/1e3);return o>0?o:0}},25329:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var i=o(27625),n=o(77808),r=o(74434),a=o(37424),l=o(47348),d=o(50308);var s=o(92354);const c=function(){var e,t;const{showEuDisclaimer:o,showFrenchDisclaimer:c}=(0,i.Z)(),u=(0,s.T)(),h=function(e,t){const o=(0,n.useContext)(a.GM),i=(0,a.G2)(l.U4).from(o),s={queryKey:(0,d.H)("getFeedEuDisclaimerV1",e),queryFn:e=>{let{queryKey:t}=e;return i.request("getFeedEuDisclaimerV1",t[1])}};return t&&t.queryObserverOptions&&Object.assign(s,t.queryObserverOptions),(0,r.useQuery)(s)}(void 0,{queryObserverOptions:{enabled:o}}),g={title:{text:u("euDisclaimer.HeaderTitle")},body:{textFormat:"<span>".concat(u("euDisclaimer.Body"),', <span style="text-decoration: underline;text-decoration-color:#545454;text-underline-offset:4;"><a href=').concat("https://www.uber.com/legal/document/?name=rankings-on-uber-eats",">").concat(u("euDisclaimer.clickHereText"),"</a></span></span>")},buttonText:u("euDisclaimer.dismissText"),paragraphs:null};return{ratingLink:"https://www.uber.com/legal/document/?name=ratings-and-reviews-on-uber-eats",rankingDisclaimer:null===(e=h.data)||void 0===e?void 0:e.markup,rankingBottomSheet:c?null===(t=h.data)||void 0===t?void 0:t.bottomSheet:g}}},16895:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var i=o(77808),n=o(21888),r=o(71172),a=o(43610),l=o(93583);const d=()=>{var e,t,o;const{cacheKey:d}=(0,l.Z)(),s=(0,n.v)((e=>{let{feed:t}=e;return(0,a._z)(t,d)})),c=(0,r.Z)("getFeedItemsUpdateV1"),u=(0,i.useCallback)((e=>c({cacheKey:d,feedItemUuids:e})),[d,c]);return{feedItemsUpdate:(null===(e=s.data)||void 0===e?void 0:e.feedItemsUpdate)||{...a.Fo},feedItemUuids:(null===(t=s.data)||void 0===t||null===(o=t.feedItemsUpdate)||void 0===o?void 0:o.feedItemUuids)||[],getFeedItemsUpdate:u}}},47445:(e,t,o)=>{e.exports=o.p+"beb05a8bec7f3b14.png"}}]);