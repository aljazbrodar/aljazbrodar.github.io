"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[37093],{8433:(t,e,i)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.Z=void 0;var n=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var i=a(e);if(i&&i.has(t))return i.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var d=o?Object.getOwnPropertyDescriptor(t,u):null;d&&(d.get||d.set)?Object.defineProperty(n,u,d):n[u]=t[u]}n.default=t,i&&i.set(t,n);return n}(i(18898)),o=["title","size"];function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(a=function(t){return t?i:e})(t)}function u(t,e){if(null==t)return{};var i,r,n=function(t,e){if(null==t)return{};var i,r,n={},o=Object.keys(t);for(r=0;r<o.length;r++)i=o[r],e.indexOf(i)>=0||(n[i]=t[i]);return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function d(){return(d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var l=n.forwardRef((function(t,e){var i=t.title,r=void 0===i?"Chevron right small":i,a=t.size,l=u(t,o),s=Object.assign({},l);return s.ref=e,"undefined"!=typeof a&&(s.width=a,s.height=a),n.createElement("svg",d({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},s),r?n.createElement("title",null,r):null,n.createElement("path",{d:"M16.9 12l-4.6 6H8.5l4.6-6-4.6-6h3.8l4.6 6z",fill:"currentColor"}))}));e.Z=l},3213:(t,e,i)=>{i.d(e,{Z:()=>u});var r=i(77808),n=i(30985),o=i(30330);function a(t,e){return(0,o.tZ)(n.Z,{viewBox:"0 0 20 20",ref:e,...t,children:(0,o.tZ)("path",{d:"M15.833 8.75H4.167v2.5h11.666v-2.5z"})})}const u=r.forwardRef(a)},70713:(t,e,i)=>{i.d(e,{Z:()=>u});var r=i(77808),n=i(30985),o=i(30330);function a(t,e){return(0,o.tZ)(n.Z,{viewBox:"0 0 20 20",ref:e,...t,children:(0,o.tZ)("path",{d:"M15.833 8.75H11.25V4.167h-2.5V8.75H4.167v2.5H8.75v4.583h2.5V11.25h4.583v-2.5z"})})}const u=r.forwardRef(a)},73500:(t,e,i)=>{i.d(e,{Z:()=>u});var r=i(77808),n=i(30985),o=i(30330);function a(t,e){return(0,o.tZ)(n.Z,{viewBox:"0 0 16 16",ref:e,...t,children:(0,o.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.667.667V2H14v2H2V2h3.333V.667h5.334zM3.333 5.333h9.334v10H3.333v-10z"})})}const u=r.forwardRef(a)},5378:(t,e,i)=>{i.d(e,{Z:()=>n});var r=i(53687);const n=()=>{const t=(0,r.i1)("pinned-info-banner");return(null==t?void 0:t.offsetHeight)||0}},13222:(t,e,i)=>{i.d(e,{Z:()=>f});var r=i(18898),n=i(30778),o=i(21888),a=i(33163),u=i(58305),d=i(35077),l=i(50118),s=i(49802),c=i(68587),m=i(17926),p=i(86618);function f(t){const{setActiveDraftOrder:e}=(0,l.Z)(),i=(0,m.Z)(),{deliveryTime:f,deliveryAddress:v,diningMode:y,storeUuid:h,isDraftOrderParticipant:b}=(0,d.Z)(t),{hasGroupOrderForStore:g}=(0,u.Z)(h),{hasActiveDraftOrderMetadata:Z}=(0,s.Z)(t),C=(0,n.I0)(),I=t&&t===h&&g,{draftOrders:S}=(0,o.v)((t=>{let{draftOrders:e}=t;return e})),w=(0,o.v)((t=>{let{draftOrder:e}=t;return e.draftOrder})),[U,k]=r.useState(!1),_=I&&b;return r.useCallback((()=>{let r;i&&S.data&&w.data&&w.hasLoaded&&t&&!U&&w.data.draftOrder.storeUuid!==t&&(r=(0,p.w)(S,t),r&&(e(r),k(!0))),i&&!Z&&(t&&!r||(C((0,a.A0)(h,{...f?{storeScheduledTime:f}:{},...v?{storeDeliveryLocation:v}:{},...y?{storeDiningMode:y}:{},isGroupOrderParticipant:_})),r&&C((0,c.hW)())))}),[i,S,w.data,w.hasLoaded,t,U,Z,e,C,h,f,v,y,_])}},43344:(t,e,i)=>{i.d(e,{Z:()=>R});var r=i(77808),n=i(18898),o=i(92354),a=i(72436),u=i(44912),d=i(43712),l=i(70713),s=i(3213),c=i(73500),m=i(33483),p=i(9173),f=i(60496),v=i(80422),y=i(87281),h=i(23619),b=i(30330);const g=t=>"".concat(t,"px"),Z="100ms",C=36,I=g(C),S=(t,e)=>!t||!e||e<C?C:e+8,w=(t,e)=>-(60-S(t,e)/2),U=(0,a.zo)("div",(t=>{let{$theme:e,disabled:i,$isSecondary:r,$isClosed:n,$hasQuantity:o,$quantityWidth:a}=t;return{position:"relative",width:g(n?S(o,a):120),height:g(36),transition:"width ".concat(Z," linear"),borderRadius:e.borders.pillButtonBorderRadius,overflow:"hidden",background:e.colors.buttonPrimaryFill,color:e.colors.buttonPrimaryText,cursor:"auto",...r&&{background:e.colors.buttonSecondaryFill,color:e.colors.buttonSecondaryText},...i&&{...(0,d.Z)(e)}}})),k=(0,a.zo)("div",(t=>{let{$isClosed:e,$hasQuantity:i,$quantityWidth:r}=t;return{position:"absolute",right:i&&e?g(w(i,r)):0,transition:"right ".concat(Z," linear"),width:g(120),display:"flex",alignItems:"center"}})),_=(0,a.zo)("button",(t=>{let{$theme:e,$isSecondary:i,$isClosed:r,$hasQuantity:n,$quantityWidth:o}=t;return{...(0,u.Z)({$theme:e,radius:"pillButtonBorderRadius"}),width:I,minWidth:I,height:I,minHeight:I,padding:0,display:"flex",justifyContent:"center",alignItems:"center",background:"transparent",":hover":{background:i?e.colors.buttonSecondaryHover:e.colors.contentTertiary},":disabled":{fill:e.colors.disabled,background:"transparent"},...r&&{width:g(S(n,o)),minWidth:g(S(n,o)),height:g(C),minHeight:g(C),margin:0,...!!o&&{padding:"0 4px"}}}})),P=(0,a.zo)("div",(t=>{let{$theme:e,$isSecondary:i}=t;return{position:"absolute",left:"50%",transform:"translateX(-50%)",...e.typography.LabelLarge,display:"flex",justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",textAlign:"center"}})),T=t=>{var e;let{type:i="primary",isClosable:n=!1,isDisabled:a=!1,item:u,storeUuid:d,quantity:g,updateQuantity:Z}=t;const C=(0,m.Z)({item:u,storeUuid:d,cartQuantity:g}),I=(0,o.T)(),S="secondary"===i,w=(0,f.Z)("price_items_by_weight")&&(0,p.jx)(u),T=(0,p.L5)(u),R=w&&T.increment||1,x=w&&(0,y.Sw)((0,y.YM)(R),-1)||-1,O=w&&T.minimumQuantity||1,A=w?T.defaultDecimal||(0,y.J2)(1,(null===(e=T.increment)||void 0===e?void 0:e.exponent)||0):1,D=g===O,Q=(0,r.useMemo)((()=>w?"".concat(g," ").concat((0,p.YP)(u)||""):g),[w,u,g]),[q,$]=(0,r.useState)(!1),L=n&&!q,E=(0,r.useCallback)((()=>{Z(x),n&&D&&$(!1)}),[x,n,D,Z]),z=(0,r.useCallback)((()=>{n&&$(!0)}),[n]),M=(0,r.useCallback)((()=>{const t=Z(0===g?A:R);n&&!q&&t&&$(!0)}),[A,R,n,q,g,Z]),[B,W]=(0,r.useState)(0),F=(0,r.useRef)();(0,r.useEffect)((()=>{var t;Q&&W(null===(t=F.current)||void 0===t?void 0:t.clientWidth)}),[Q]);const H=(0,r.useRef)();return(0,v.Z)(H,(()=>{$(!1)}),n&&q),(0,b.tZ)(U,{ref:H,disabled:a,$isSecondary:S,$isClosed:L,$hasQuantity:!!g,$quantityWidth:B,children:(0,b.BX)(k,{$isClosed:L,$hasQuantity:!!g,$quantityWidth:B,children:[(0,b.tZ)(_,{disabled:a||g<O,$isSecondary:S,$isClosed:L,onClick:E,children:g>O?(0,b.tZ)(s.Z,{size:20}):D?(0,b.tZ)(c.Z,{size:16}):null}),(0,b.tZ)(h.ZP,{$width:"48px"}),(0,b.tZ)(_,{"aria-label":I("quick_add"),disabled:a||C()!==m.y.BELOW_LIMIT,$isSelected:!0,$isSecondary:S,$isClosed:L,onClick:M,children:(0,b.tZ)(l.Z,{size:20})}),(0,b.tZ)(P,{$isSecondary:S,children:L&&g?(0,b.tZ)(_,{disabled:a,$isSecondary:S,$isClosed:L,$hasQuantity:!!g,$quantityWidth:B,onClick:z,children:(0,b.tZ)("div",{ref:F,children:Q})}):(0,b.tZ)("div",{ref:F,children:Q})})]})})},R=n.memo(T)},90745:(t,e,i)=>{i.d(e,{Z:()=>j});var r=i(18898),n=i(77808),o=i(72436),a=i(15306),u=i(21888),d=i(30778),l=(i(74840),i(38370)),s=i(59649),c=i(43709),m=i(56182),p=i(32912),f=i(86087),v=i(58305),y=i(60496),h=i(9173),b=i(62175),g=i(87281),Z=i(33483),C=(i(43344),i(17926)),I=i(30330);(0,o.zo)("div",(t=>{let{$theme:e}=t;return{borderRadius:e.borders.pillButtonBorderRadius,border:"1px solid ".concat(e.colors.buttonPrimaryText),boxShadow:e.shadows.floatingButton}}));var S=i(92354),w=i(70713),U=i(42304),k=i(40850),_=i(3213),P=i(73500);const T=(0,o.zo)("div",(t=>{let{$theme:e,$closeAnimation:i}=t;return{cursor:"auto",display:"flex",alignItems:"center",background:e.colors.buttonPrimaryFill,borderRadius:e.borders.pillButtonBorderRadius,border:"1px solid ".concat(e.colors.borderOpaque),boxShadow:e.shadows.floatingButton,animationDuration:"200ms",animationFillMode:"forwards",...i?{animationName:{from:{maxWidth:"200px"},to:{maxWidth:"40px"}}}:{animationName:{from:{maxWidth:"40px"},to:{maxWidth:"200px"}}},overflow:"hidden"}})),R=(0,o.zo)("div",(t=>{let{$theme:e}=t;return{...e.typography.LabelLarge,width:"max-content",paddingLeft:"16px",paddingRight:"16px",whiteSpace:"nowrap",textAlign:"center",color:e.colors.buttonPrimaryText}})),x=(0,o.zo)(k.Z,(t=>{let{$theme:e}=t;return{width:"36px",height:"36px",minHeight:"36px !important",margin:0,":hover":{background:e.colors.contentTertiary},":disabled":{fill:e.colors.disabled,background:"transparent"}}})),O=t=>{const e=(0,Z.Z)({item:t.item,storeUuid:t.storeUuid,cartQuantity:t.quantity}),i=(0,y.Z)("price_items_by_weight"),r=(0,h.jx)(t.item),n=(0,h.L5)(t.item),o=n.increment||(0,g.YM)(1,0),a=i&&r?n.minimumQuantity:1;return(0,I.BX)(T,{$closeAnimation:t.closeAnimation,children:[(0,I.tZ)(x,{disabled:!!t.isDisabled,onClick:()=>{i&&r?t.updateQuantity((0,g.Sw)(o,-1)):t.updateQuantity(-1)},radius:"radiusFull",children:t.quantity<=a?(0,I.tZ)(P.Z,{size:16}):(0,I.tZ)(_.Z,{size:20})}),i&&r?(0,I.BX)(R,{children:[t.quantity," ",(0,h.YP)(t.item)]}):(0,I.tZ)(R,{children:t.quantity}),(0,I.tZ)(x,{disabled:!!t.isDisabled||e()!==Z.y.BELOW_LIMIT,onClick:()=>{i&&r?t.updateQuantity(o):t.updateQuantity(1)},radius:"radiusFull",children:(0,I.tZ)(w.Z,{size:20})})]})};var A=i(12808);const D=t=>{let{storeUUID:e,sectionUUID:i,subsectionUUID:r,item:o,quantity:u,decimalQuantity:s,updateQuantity:c,cartItemCount:m,closeAnimation:v,closeStepper:b,isDifferentStoreFromCart:S,addToCart:w,increment:U,decrement:k,quickAddCount:_,updateDecimalQuantity:P,debouncedQuickAddCount:T,quickAddSource:R}=t;const x=(0,y.Z)("price_items_by_weight"),D=(0,A.Z)(o),Q=(0,p.k6)(),q=(0,p.UO)(),$=(0,p.TH)(),L=(0,d.I0)(),E=(0,C.Z)(),z=(0,f.ZP)(),M=(0,l.li$)($,{...(0,l.x9r)(q),sectionUuid:i,itemUuid:o.uuid||""}),B=(0,n.useRef)((t=>{L((0,a.px)(e,i,r,o,t)),Q.push(M)})),W=(0,n.useRef)({addToCart:w,increment:U,decrement:k,updateDecimalQuantity:P,debouncedQuantity:T.integer});W.current={addToCart:w,increment:U,decrement:k,updateDecimalQuantity:P,debouncedQuantity:T.integer};const F=(0,Z.Z)({item:o,storeUuid:e,cartQuantity:u}),H=(0,n.useCallback)(((t,e)=>{"number"==typeof t?t>e?W.current.increment(t-e):t<e&&W.current.decrement(e-t):W.current.updateDecimalQuantity(t)}),[W]),j=(0,n.useRef)({quantity:u,decimalQuantity:s,cartItemCount:m});j.current={quantity:u,decimalQuantity:s,cartItemCount:m},(0,n.useEffect)((()=>{const t=B;return()=>{j.current.quantity!==j.current.cartItemCount&&W.current.debouncedQuantity!==j.current.quantity&&(E&&S?(W.current.addToCart(!1,"quick_add",{isQuickAdd:!0,quickAddSource:R}),L((0,a.OA)())):S?S&&t.current(j.current.quantity):H(x&&D?j.current.decimalQuantity:j.current.quantity,j.current.cartItemCount))}}),[H,S,E,B,D,x,L,R]),(0,n.useEffect)((()=>{if(m!==T.integer)return 0!==m?H(x&&D?T.decimal:T.integer,m):S&&!E?B.current(T.integer):void(v||(W.current.addToCart(!1,"quick_add",{isQuickAdd:!0,quickAddSource:R}),L((0,a.OA)())))}),[S,m,H,o,E,v,T,D,x,L,R]);const N=(0,h.L5)(o),V=(0,n.useCallback)((t=>{var i;const r="number"==typeof t?t:(0,g.aD)(t);let n="number"==typeof t?_.integer+t:(0,g.kz)(_.decimal,t);if("number"!=typeof n&&N.minPermitted&&(0,g.up)(n,N.minPermitted)&&(n=(0,g.J2)(0,0)),r>0&&F({increment:r,showSnackbarWarning:!0})===Z.y.ABOVE_LIMIT)return;c(o.uuid||"",n);const a=r>0?"increment":"decrement";z("eats:quick_add_button_tap",{quickAddOperation:{storeUuid:e,itemUuid:o.uuid||"",previousQuantity:u,updatedQuantity:u+r,operationType:a}}),("number"==typeof n?n<=0:(null===(i=n)||void 0===i?void 0:i.base)<=0)&&b()}),[F,c,u,o.uuid,e,z,b,_,N]);return(0,I.tZ)(O,{item:o,storeUuid:e,quantity:u,closeAnimation:v,updateQuantity:V})};var Q=i(80422),q=i(4878),$=i(75603),L=i(12198),E=i(23157),z=i(96866);const M=(0,o.zo)("div",(t=>{let{$theme:e}=t;return{border:"1px solid ".concat(e.colors.buttonPrimaryText),borderRadius:e.borders.pillButtonBorderRadius}})),B=(0,o.zo)("div",(t=>{let{$theme:e}=t;return{...e.typography.LabelLarge,color:e.colors.buttonPrimaryText,padding:"0 2px"}})),W=(0,o.w1)(k.Z,(t=>{let{$theme:e}=t;return{height:"36px",minWidth:"36px",minHeight:0,padding:"2px 4px",hover:{color:e.colors.buttonPrimaryHover}}})),F=t=>{var e;let{item:i,subsectionUUID:o,storeUUID:Z,sectionUUID:C,cartItemCount:k,cartItemDecimalCount:_,syncItemQuantity:P,quickAddCount:T,disabled:R,quickAddSource:x,isInteractionEnabled:O=!0}=t;const A=(0,d.I0)(),F=T.integer,[H,j]=(0,n.useState)(!1),N=(0,S.T)(),[V,Y]=r.useState(!1),G=r.useRef(null),X=w.Z,{store:J}=(0,m.Z)(Z),K=(0,p.TH)(),tt=(0,s.k)(),et=(0,c._)(),it=(0,p.UO)(),rt=(0,p.k6)(),nt=(0,f.ZP)(),{canEditGroupOrderCart:ot}=(0,v.Z)(Z),at=(0,b.Z)(),ut=(0,h.ne)(i),{itemQueue:dt}=(0,u.v)((t=>t.quickAdd)),lt=null===(e=(0,u.v)((t=>{let{draftOrder:e}=t;return e.draftOrder})).data)||void 0===e?void 0:e.draftOrder.storeUuid,st=(0,l.yz4)(K,{...(0,l.WxO)(it),sectionUuid:C,subsectionUuid:o,itemUuid:i.uuid||""}),ct=(0,n.useCallback)((()=>{j(!0),setTimeout((()=>{Y(!1),j(!1)}),200)}),[]);(0,Q.Z)(G,(()=>{V&&ct()}),!0);(0,n.useEffect)((()=>{!P||k===F||ut&&!_||A((0,a.$R)(Z,i.uuid||"",_||k))}),[i,ut,_,P,k,i.uuid,A,F,Z]);const mt=(0,y.Z)("price_items_by_weight"),{increment:pt,decrement:ft,updateDecimalQuantity:vt,addToCart:yt,isDifferentStoreFromCart:ht}=((t,e,i,r,o,u,l,s)=>{var c,p,f,v,y;const{store:h}=(0,m.Z)(t),b=(0,L.Z)(!0),{serverCart:g}=(0,q.iQ)(),Z=(0,d.I0)(),C=null===(c=g.data)||void 0===c?void 0:c.groupedItems,{outOfItemAction:I}=(0,z.Z)(),S=(0,n.useMemo)((()=>(((C||[]).find((t=>t.isCurrentUser))||{}).items||[]).filter((t=>t.uuid===r.uuid))),[C,r.uuid]),w=(0,n.useMemo)((()=>(0,E.Z)(S.map((t=>{let{quantity:e}=t;return e})))),[S]),U=r.isLegacy?r.description:r.itemDescription,k={error:null,hasLoaded:!0,isLoading:!1,data:{price:Number(r.price),title:String(r.title),uuid:r.uuid||"",hasCustomizations:!1,customizationsList:[],imageUrl:String(r.imageUrl),imageWatermarkContent:null,images:null,nutritionalInfo:null,suspendReason:null,suspendUntil:0,itemPromotion:null,itemPromotionV2:{availablePromotion:null,appliedPromotion:null,promotionData:null},rules:null,sectionUuid:e,subsectionUuid:i,itemDescription:null!=U?U:"",purchaseInfo:r.purchaseInfo}},{addToCart:_}=(0,$.Z)(h,k,{},o,"",I,void 0,void 0,u,l),P=Boolean((null==g?void 0:g.hasLoaded)&&h.hasLoaded&&(null===(p=g.data)||void 0===p||null===(f=p.items)||void 0===f?void 0:f.length)&&(null==g||null===(v=g.data)||void 0===v?void 0:v.storeUuid)!==(null==h||null===(y=h.data)||void 0===y?void 0:y.uuid)),T=(t,e)=>{e?b(e,t,{isQuickAdd:!0}):_(P,"quick_add",{isQuickAdd:!0,quickAddSource:s}),Z((0,a.OA)())},R=(0,n.useMemo)((()=>S.sort(((t,e)=>{var i,r;return new Date(null!==(i=e.createdTimestamp)&&void 0!==i?i:0)-new Date(null!==(r=t.createdTimestamp)&&void 0!==r?r:0)}))),[S]);return{addToCart:_,increment:t=>{const e=R[0];T(t+((null==e?void 0:e.quantity)||0),null==e?void 0:e.shoppingCartItemUuid)},decrement:t=>{let e=t;for(let t=0;t<R.length;t++){const i=R[t];if(0===e)return;if(i.quantity>=e){T(i.quantity-e,i.shoppingCartItemUuid);break}e-=i.quantity,T(0,i.shoppingCartItemUuid)}},updateDecimalQuantity:t=>{const e=R[0];t.base<=0?T(0,null==e?void 0:e.shoppingCartItemUuid):T(t,null==e?void 0:e.shoppingCartItemUuid)},cartItemMatch:S,cartItemQuantity:w,serverCart:g,isDifferentStoreFromCart:P}})(Z,C,o,i,F,((t,e,i)=>{var r,n;const o=null==e||null===(r=e.meta)||void 0===r?void 0:r.type;e&&nt("eats:store_quick_add_error",{storeUuid:Z,error:e}),"DRAFT_ORDER_VALIDATION_ERROR"!==o&&"CREATE_DRAFT_ORDER_VALIDATION_ERROR"!==o&&"ORDER_ALERT_ERROR"!==o||tt(!1,e,!1,J);const a=(null===(n=et.get("uev2.mcedu"))||void 0===n?void 0:n.count)||0;if(i&&0===a)return rt.push((0,l.vN_)(K,"multicartFtux"))}),T.decimal,x),bt=(0,U.Z)(T,1e3);return!ot||at?null:(0,I.tZ)(M,{onClick:t=>{var e;if(i.hasCustomizations&&0===F)return;if(!O)return;if(t.preventDefault(),t.stopPropagation(),R)return;if(lt!==Z&&Boolean(dt.length)&&dt[0]!==i.uuid)return rt.push(st);Y(!0);const r=(0,h.L5)(i),n=mt&&ut?r.defaultDecimal||(0,g.J2)(1,(null===(e=r.increment)||void 0===e?void 0:e.exponent)||0):1;0===F&&(A((0,a.$R)(Z,i.uuid||"",n)),A((0,a.O7)(i.uuid)))},ref:G,children:V?(0,I.tZ)(D,{storeUUID:Z,sectionUUID:C,subsectionUUID:o,item:i,quantity:F,updateQuantity:(t,e)=>{A((0,a.$R)(Z,t,e))},cartItemCount:k,closeAnimation:H,closeStepper:ct,isDifferentStoreFromCart:ht,addToCart:yt,increment:pt,decrement:ft,quickAddCount:T,decimalQuantity:T.decimal,updateDecimalQuantity:vt,debouncedQuickAddCount:bt,quickAddSource:x}):(0,I.tZ)(W,{disabled:R,"aria-label":N("quick_add"),radius:"pillButtonBorderRadius",children:F>0?mt&&ut?(0,I.BX)(B,{children:[F," ",(0,h.YP)(i)]}):(0,I.tZ)(B,{children:F}):(0,I.tZ)(X,{size:20,color:"contentInversePrimary"})})})},H=r.memo(F),j=t=>(0,I.tZ)(H,{...t})},18050:(t,e,i)=>{i.d(e,{Z:()=>c});var r=i(18898),n=i(86087),o=i(77031),a=i(72436),u=i(81327),d=i(82673),l=i(30330);const s=(0,a.w1)(u.hh,(t=>{let{$theme:e}=t;return{...e.typography.LabelMedium,flexShrink:0,whiteSpace:"nowrap"}})),c=t=>{let{viewAllLocation:e,storeCatalogEventMeta:i,ctaMetadataLabel:a}=t;const u=(0,n.ZP)(),c=r.useRef(!1),{elementRef:m,isElementHidden:p}=(0,o.Z)({initialHidden:!0,waitTime:0,shouldListen:!c.current}),{storeUuid:f,sectionUuid:v,catalogSectionType:y}=i;return r.useEffect((()=>{p||(c.current=!0,u("eats:store_catalog_section_see_all_button_impression",{storeCatalog:{storeUuid:f,sectionUuid:v,catalogSectionType:y}}))}),[u,p,f,v,y]),(0,l.tZ)(s,{ref:m,to:e,onClick:()=>{u("eats:store_catalog_section_see_all_button_tap",{storeCatalog:{storeUuid:f,sectionUuid:v,catalogSectionType:y}})},children:a||(0,l.tZ)(d.v,{id:"carousel.see_all"})})}},85052:(t,e,i)=>{i.d(e,{Z:()=>a});var r=i(96648),n=i(15012),o=i(30330);const a=t=>{let{catalogSection:e,baseFont:i,tag:a="div"}=t;const u=e.payload;if(!u)return null;if("horizontalGridPayload"===u.type){const t=u.horizontalGridPayload;return(0,o.tZ)(r.Z,{badge:t.title,baseFont:i,tag:a})}if("verticalGridPayload"===u.type){const t=u.verticalGridPayload;return(0,o.tZ)(r.Z,{badge:t.title,baseFont:i,tag:a})}if("exploreMenuPayload"===u.type){const t=u.exploreMenuPayload;return(0,o.tZ)(r.Z,{badge:t.title,baseFont:i,tag:a})}if("standardItemsPayload"===u.type){const t=u.standardItemsPayload;return t.titleV2?(0,o.tZ)(n.ZP,{text:t.titleV2}):(0,o.tZ)(r.Z,{badge:t.title,baseFont:i,tag:a})}return null}},74840:(t,e,i)=>{i.d(e,{$:()=>c});var r=i(77808),n=i(4878),o=i(75603),a=i(56182),u=i(12198),d=i(23157),l=i(15306),s=i(30778);const c=(t,e,i,c,m,p,f,v)=>{var y,h,b,g,Z;const C=(0,s.I0)(),{store:I}=(0,a.Z)(t),S=(0,u.Z)(!0),{serverCart:w}=(0,n.iQ)(),U=null===(y=w.data)||void 0===y?void 0:y.groupedItems,k=(0,r.useMemo)((()=>(((U||[]).find((t=>t.isCurrentUser))||{}).items||[]).filter((t=>t.uuid===c.uuid))),[U,c.uuid]),_=(0,r.useMemo)((()=>(0,d.Z)(k.map((t=>{let{quantity:e}=t;return e})))),[k]),P=(0,r.useMemo)((()=>k.sort(((t,e)=>{var i,r;return new Date(null!==(i=e.createdTimestamp)&&void 0!==i?i:0)-new Date(null!==(r=t.createdTimestamp)&&void 0!==r?r:0)}))),[k]),T=c.isLegacy?c.description:c.itemDescription,R={error:null,hasLoaded:!0,isLoading:!1,data:{price:Number(c.price),title:String(c.title),uuid:c.uuid||"",hasCustomizations:!1,customizationsList:[],imageUrl:String(c.imageUrl),imageWatermarkContent:null,images:null,nutritionalInfo:null,suspendReason:null,suspendUntil:0,itemPromotion:null,itemPromotionV2:{availablePromotion:null,appliedPromotion:null,promotionData:null},rules:null,sectionUuid:e,subsectionUuid:i,itemDescription:null!=T?T:"",purchaseInfo:c.purchaseInfo}},{addToCart:x}=(0,o.Z)(I,R,{},m,"",null,void 0,void 0,p,f),O=Boolean(w.hasLoaded&&I.hasLoaded&&(null==w||null===(h=w.data)||void 0===h||null===(b=h.items)||void 0===b?void 0:b.length)&&(null==w||null===(g=w.data)||void 0===g?void 0:g.storeUuid)!==(null==I||null===(Z=I.data)||void 0===Z?void 0:Z.uuid)),A=(0,r.useCallback)(((t,e)=>{const i=(t,e)=>{e?S(e,t,{isQuickAdd:!0}):x(O,"quick_add",{isQuickAdd:!0,quickAddSource:v})};if("number"==typeof t){if(t>_){const e=P[0];i(t,null==e?void 0:e.shoppingCartItemUuid)}else if(t<_){let e=_-t;for(const t of P){if(t.quantity>=e){i(t.quantity-e,t.shoppingCartItemUuid);break}i(0,t.shoppingCartItemUuid),e-=t.quantity}}}else{const e=P[0];t.base<=0?i(0,null==e?void 0:e.shoppingCartItemUuid):i(t,null==e?void 0:e.shoppingCartItemUuid)}C((0,l.OA)())}),[x,_,C,O,v,P,S]);return{addToCart:x,onUpdateQuantity:A,isNewSingleCart:O,cartItemMatch:k,cartItemQuantity:_,serverCart:w}}},6522:(t,e,i)=>{i.d(e,{P:()=>u});var r=i(77808),n=i(90214),o=i(17008),a=i(86087);function u(t){let{menuItem:e,quantity:i=0,storeUuid:u,catalogItem:d}=t;const{isItemPromotionApplied:l}=(0,n.E)(e,i),{itemPromotionV2:s}=e||{},c=(0,a.ZP)(),[m,p]=(0,o.T)({root:null});return(0,r.useEffect)((()=>{var t;if(null!=p&&p.isIntersecting)if(l&&null!=s&&s.appliedPromotion)c("eats:store_offers_promotion_applied_impression",{storeUuid:u||"",itemUuid:(null==e?void 0:e.uuid)||"",promotionUuid:(null==s||null===(t=s.availablePromotion)||void 0===t?void 0:t.uuid)||"",quantity:i});else if(null!=s&&s.availablePromotion){var r;c("eats:store_offers_promotion_available_impression",{storeUuid:u||"",itemUuid:(null==e?void 0:e.uuid)||"",promotionUuid:(null==s||null===(r=s.availablePromotion)||void 0===r?void 0:r.uuid)||"",quantity:i})}}),[null==p?void 0:p.isIntersecting,l,s,c,null==e?void 0:e.uuid,u,i]),(0,r.useEffect)((()=>{var t;null!=p&&p.isIntersecting&&(null!=d&&d.promoInfo&&null!=p&&p.isIntersecting&&c("eats:store_front_offers_impression",{storeUuid:u||"",itemUuid:d.uuid||"",promotionUuid:(null===(t=d.promoInfo)||void 0===t?void 0:t.promotionUUID)||""}))}),[d,null==p?void 0:p.isIntersecting,c,u]),{promotionComponentRef:m}}},6959:(t,e,i)=>{i.d(e,{Z:()=>a});var r=i(77808),n=i(86087),o=i(65584);function a(t,e){const i=(0,n.ZP)(),a=e.every((t=>"HORIZONTAL_GRID"===t.type)),u=e.some((t=>{const e=(0,o.FA)(t);return((null==e?void 0:e.catalogItems)||[]).some((t=>"LIST"===t.displayType))})),d=e.some((t=>{const e=(0,o.FA)(t);return((null==e?void 0:e.catalogItems)||[]).some((t=>"GRID"===t.displayType))})),l=(0,r.useRef)(!1),s=(0,r.useCallback)((()=>{l.current||(l.current=!0,i("eats:store_view_scrolled",a?{storeCatalog:{storeUuid:t,displayType:"grid",layoutType:"horizontal"}}:{storeCatalog:{storeUuid:t,displayType:u&&d?"mixed":u?"list":"grid",layoutType:"vertical"}}))}),[i,a,u,d,t]);(0,r.useEffect)((()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)})),[s])}},63726:(t,e,i)=>{i.d(e,{Z:()=>o});var r=i(78895),n=i(94226);const o=()=>({isInStoreSearchXpEnabled:(0,r.ip)({...n.v.in_store_search,defaultValue:!1})})},90214:(t,e,i)=>{i.d(e,{E:()=>n});var r=i(23259);function n(t,e){var i;const n={isItemPromotionApplied:!1};if(null==t||null===(i=t.itemPromotionV2)||void 0===i||!i.promotionData)return n;const{itemPromotionV2:o}=t||{},{promotionData:a}=o||{};if(null==a||!a.type)return n;switch(a.type){case r._k.buyXGetYItemPromotion:{const{buyQuantity:t,getQuantity:i}=a||{};if(!isNaN(t)&&!isNaN(i)&&e>=t+i)return{isItemPromotionApplied:!0};break}case r._k.volumeDiscountPromotion:{const{buyQuantity:t}=a||{};if(!isNaN(t)&&e>=t)return{isItemPromotionApplied:!0};break}default:return n}return n}},35780:(t,e,i)=>{i.d(e,{Z:()=>o});var r=i(78895),n=i(94226);function o(){return(0,r.ip)({...n.v.store_quick_add,defaultValue:!0})}},60300:(t,e,i)=>{i.d(e,{Z:()=>o});var r=i(78895),n=i(94226);const o=()=>({isStorePaginationXPEnabled:(0,r.ip)({...n.v.store_pagination,defaultValue:!1})})},11185:(t,e,i)=>{i.d(e,{ZP:()=>f,_J:()=>v});var r=i(27400),n=i(5378),o=i(18898),a=i(77808),u=i(21888),d=i(38370),l=i(45528),s=i(60300),c=i(63726),m=i(30330);const p=o.createContext(null);function f(t){const[e,i]=o.useState(null),f=o.useRef({}),v=o.useRef({}),y=o.useRef(null),h=o.useRef([]),b=o.useRef(void 0),g=o.useRef({}),Z=(0,l.T)(),{isStorePaginationXPEnabled:C}=(0,s.Z)(),{isInStoreSearchXpEnabled:I}=(0,c.Z)(),{storeCatalogSections:S,storeCatalogSubsections:w,storeSearchQuery:U}=(0,d.RAN)(Z,["storeCatalogSections","storeCatalogSubsections","storeSearchQuery"]),k=(0,n.Z)(),{isMobile:_}=(0,u.v)((t=>t.device)),P=_&&S?57:0,T=o.useCallback((()=>{if(0!==h.current.length)if(window.scrollY<h.current[0].top)i(h.current[0].uuid);else{const e=h.current.find((t=>t.bottom-48-k-P>=window.scrollY))||h.current[h.current.length-1];if(i(e.uuid),y.current&&v.current[e.uuid]){var t;const i=null!==(t=v.current[e.uuid].offsetLeft)&&void 0!==t?t:0;y.current.scrollLeft=i}}}),[k,h,P]),R=o.useCallback((()=>{clearTimeout(b.current),b.current=setTimeout((()=>{const t=w||e;t&&(g.current={...g.current,[S]:{...g.current[S],[t]:window.scrollY}})}),250)}),[e,S,w]),x=o.useCallback((t=>{const e=h.current.find((e=>e.uuid===t));if(e){var i;const r=(null===(i=g.current[S])||void 0===i?void 0:i[t])||e.top-24-24-k-P;window.scroll(0,r)}}),[k,P,S]),O=o.useCallback((t=>{const e=h.current.find((e=>e.uuid===t));if(e){var i;const n=(null===(i=g.current[S])||void 0===i?void 0:i[t])||e.top-24-k;(0,r.Z)({top:n,behavior:"smooth"})}}),[k,S]),A=o.useCallback((()=>{T()}),[T]),D=o.useCallback((t=>{let{storeCatalogSubsections:i,catalogSubsectionUuid:r,subsectionIndex:n}=t;return C?i?i===r:0===n:!e&&0===n||e===r}),[C,e]);return(0,a.useEffect)((()=>{if(!U||!I)return C&&S&&window.addEventListener("scroll",R),()=>{clearTimeout(b.current),window.removeEventListener("scroll",R)}}),[U,C,S,w,R,I]),(0,a.useEffect)((()=>()=>{S||(g.current={})}),[S]),(0,a.useEffect)((()=>((U&&I||!C||C&&!S)&&window.addEventListener("scroll",T),()=>{window.removeEventListener("scroll",T)})),[C,S,T,U,I]),(0,m.tZ)(p.Provider,{value:{activeSubsectionUuid:e,resetActiveSubsectionUuid:A,registerSubsectionRef:(t,e)=>{e&&(e.offsetTop&&(f.current[t]=e),h.current=Object.keys(f.current).map((t=>{const e=f.current[t];return{uuid:t,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight}})))},scrollToSubsection:x,smoothScrollToSubsection:O,registerSubsectionNavRef:(t,e)=>{e&&(v.current[t]=e)},getSubsectionNavRefs:()=>v.current,registerSubsectionNavWrapperRef:t=>{t&&(y.current=t)},isSubsectionActive:D},children:t.children})}function v(){const t=o.useContext(p);if(null!==t)return t;throw Error("You should use useStoreSubsectionScrollContext only in a descendant of StoreSubsectionScrollProvider")}},65584:(t,e,i)=>{function r(t){var e;return"standardItemsPayload"===(null===(e=t.payload)||void 0===e?void 0:e.type)?t.payload.standardItemsPayload:null}function n(t){var e;if(!t)return null;const i=r(t);return i?null===(e=i.title)||void 0===e?void 0:e.text:null}function o(t,e,i){var r;if(!t||!i)return[];let n=t;return e&&i&&(n=i[e]),null!==(r=n)&&void 0!==r?r:[]}i.d(e,{E0:()=>n,FA:()=>r,qY:()=>o})},42304:(t,e,i)=>{i.d(e,{Z:()=>n});var r=i(77808);function n(t,e){const[i,n]=(0,r.useState)(t);return(0,r.useEffect)((()=>{const i=setTimeout((()=>{n(t)}),e);return()=>{clearTimeout(i)}}),[e,t]),i}},32418:(t,e,i)=>{i.d(e,{Z:()=>r});const r=function(t,e){const i=null==t?0:t.length;if(!i||e<1)return[];let r=0,n=0;const o=new Array(Math.ceil(i/e));for(;r<i;)o[n++]=t.slice(r,r+=e);return o}},31345:(t,e,i)=>{i.d(e,{k:()=>r});const r="@media all and (-ms-high-contrast: none), (-ms-high-contrast: active)"},27400:(t,e,i)=>{function r(t){if("undefined"!=typeof window)try{window.scrollTo(t)}catch(e){window.scrollTo(0,t.top)}}i.d(e,{Z:()=>r})}}]);