"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[76826],{23281:(e,t,r)=>{r.d(t,{K:()=>u,Z:()=>p});var n=r(72436),i=r(2359),o=r(75713),a=r(30330);const d={width:"40px",height:"40px",borderRadius:"50%",flexShrink:0},s=(0,n.zo)(i.Z,{...d}),l=(0,n.zo)("div",{position:"relative"}),c=(0,n.zo)("div",(e=>{let{$theme:t,$mask:r}=e;return{...d,...r==u.POSITIVE?{backgroundColor:t.colors.contentPositive}:{},opacity:.7,position:"absolute",top:0,display:"flex",justifyContent:"center",alignItems:"center"}})),u={POSITIVE:"POSITIVE"},p=e=>e.$mask?(0,a.BX)(l,{children:[(0,a.tZ)(s,{src:e.avatarUrl}),(0,a.tZ)(c,{$mask:e.$mask,children:e.$mask==u.POSITIVE?(0,a.tZ)(o.Z,{type:"Checkmark",color:"white",height:"16px",width:"18px"}):null})]}):(0,a.tZ)(s,{src:e.avatarUrl})},22562:(e,t,r)=>{r.d(t,{Z:()=>m});var n=r(77808),i=r(93212),o=r(16835),a=r(33135),d=r(30778),s=r(49942),l=r(17926),c=r(45528);function u(){return(0,c.T)().pathname.includes("/bill-split-confirmation")}var p=r(50118),g=r(19418);const m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(0,l.Z)(),r=u(),{refetchCartsView:c}=(0,p.Z)(),{guestCheckoutEnabled:m}=(0,o.Z)();let h=["cartItems","subtotal","basketSize","promotion"];const[f,v]=(0,i.Z)(h),y=(0,a.Z)(),Z=(0,d.I0)(),{refetch:C}=(0,g.h)({});(0,s.Z)(e),n.useEffect((()=>{y&&!r||!f||(v(),m&&C({}),t&&c())}),[y,v,f,t,r,Z,c,m,C])}},16835:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(77808),i=r(78895),o=r(86087),a=r(76448),d=r(38249),s=r(69275),l=r(21888),c=r(61346),u=r(4878),p=r(56182);function g(){var e,t,r;const{user:g,isUnregisteredUser:m}=(0,a.Z)(),{serverCart:h}=(0,u.iQ)(),f=null===(e=h.data)||void 0===e?void 0:e.storeUuid,{store:v}=(0,p.Z)(f),y=null===(t=g.data)||void 0===t?void 0:t.isLoggedIn,Z=(0,i.ip)({...d.J.guest_checkout,defaultValue:s.n.guest_checkout.defaultValue}),C=Boolean(null===(r=v.data)||void 0===r?void 0:r.isVenueStore),b=(0,n.useMemo)((()=>{const e=!y&&m;return!(!C||!e)||e&&Z}),[Z,y,m,C]),x=(0,l.v)((e=>{let{device:t}=e;return t.embeddedApp})),I=(0,c.Z)(x),B=(0,o.ZP)();return{guestCheckoutEnabled:b,emitGuestCheckoutEvent:(0,n.useCallback)((e=>{y||!m||I||B("eats:guest_checkout_enabled_citrus_xp",{param_name:"guest.checkout.enabled",param_value:String(Z),isGuestCheckoutEligible:Boolean(e)}),B("eats:guest_checkout_enabled_citrus_xp_all_events",{param_name:"guest.checkout.enabled",param_value:String(Z),isGuestCheckoutEligible:Boolean(e),isLoggedIn:Boolean(y),isUnregisteredUser:Boolean(m),isGuestModeApp:Boolean(I)})}),[B,y,m,Z,I])}}},76826:(e,t,r)=>{r.d(t,{cp:()=>re,aM:()=>Y,pS:()=>W,Ef:()=>ee,q4:()=>q,jf:()=>ne});var n=r(18898),i=r(45528),o=r(32403),a=r(77808),d=r(84715),s=r(26424),l=r(57319);const c=(0,s.zo)("ul",{listStyleType:"none",marginBottom:0,marginTop:0,paddingLeft:0,paddingRight:0,width:"100%"});c.displayName="Root";const u=(0,s.zo)("li",(e=>{const{$expanded:t,$theme:{colors:r}}=e;return{listStyleType:"none",width:"100%",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:t?r.mono500:r.mono400}}));u.displayName="PanelContainer";const p=(0,s.zo)("div",(e=>{const{$disabled:t,$isFocusVisible:r,$theme:{colors:n,sizing:i,typography:o}}=e;return{...o.font350,color:n.contentPrimary,cursor:t?"not-allowed":"pointer",backgroundColor:n.listHeaderFill,paddingTop:i.scale600,paddingBottom:i.scale600,paddingLeft:i.scale700,paddingRight:i.scale700,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,display:"flex",alignItems:"center",outline:r?"3px solid ".concat(n.accent):"none",outlineOffset:"-3px",justifyContent:"space-between",":hover":{color:n.primary}}}));p.displayName="Header";const g=(0,s.zo)("svg",(e=>{const{$theme:t,$disabled:r,$color:n}=e;return{...(0,l.u)(e),flexShrink:0,color:n||t.colors.contentPrimary,cursor:r?"not-allowed":"pointer"}}));g.displayName="ToggleIcon";const m=(0,s.zo)("g",(e=>{const{$theme:t,$expanded:r}=e;return{transform:r?"rotate(0)":"rotate(-90deg)",transformOrigin:"center",transitionProperty:"transform",transitionDuration:t.animation.timing500,transitionTimingFunction:t.animation.easeOutQuinticCurve}}));m.displayName="ToggleIconGroup";const h=(0,s.zo)("div",(e=>{const{$theme:{animation:t,colors:r,sizing:n,typography:i},$expanded:o}=e;return{...i.font200,backgroundColor:r.listBodyFill,color:r.contentPrimary,paddingTop:n.scale800,paddingBottom:n.scale1000,paddingLeft:n.scale800,paddingRight:n.scale800,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,boxSizing:"border-box",overflow:"hidden",opacity:o?1:0,visibility:o?"visible":"hidden",transitionProperty:"opacity,visibility",transitionDuration:t.timing500,transitionDelay:t.timing200,transitionTimingFunction:t.easeOutQuinticCurve}}));h.displayName="Content";const f=(0,s.zo)("div",(e=>{const{$height:t,$theme:{animation:r}}=e;return{height:"".concat(t),overflow:"hidden",transitionProperty:"height",transitionDuration:r.timing500,transitionTimingFunction:r.easeOutQuinticCurve}}));f.displayName="ContentAnimationContainer";const v="expand";var y=r(30330);function Z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class C extends a.Component{constructor(){super(...arguments),Z(this,"state",{expanded:[],...this.props.initialState}),Z(this,"itemRefs",[])}onPanelChange(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];let o=this.state.expanded;const{accordion:a}=this.props;if(a)o=o[0]===e?[]:[e];else{o=[...o];const t=o.indexOf(e);t>-1?o.splice(t,1):o.push(e)}const d={expanded:o};this.internalSetState(v,d),"function"==typeof t&&t(...n)}internalSetState(e,t){const{stateReducer:r,onChange:n}=this.props,i=r(e,t,this.state);this.setState(i),"function"==typeof n&&n(i)}handleKeyDown(e){if(this.props.disabled)return;const t=this.itemRefs;if(36===e.keyCode){e.preventDefault();const r=t[0];r.current&&r.current.focus()}if(35===e.keyCode){e.preventDefault();const r=t[t.length-1];r.current&&r.current.focus()}if(38===e.keyCode){e.preventDefault();const r=t.findIndex((e=>e.current===document.activeElement));if(r>0){const e=t[r-1];e.current&&e.current.focus()}}if(40===e.keyCode){e.preventDefault();const r=t.findIndex((e=>e.current===document.activeElement));if(r<t.length-1){const e=t[r+1];e.current&&e.current.focus()}}}getItems(){var e=this;const{expanded:t}=this.state,{accordion:r,disabled:n,children:i,renderAll:o,overrides:d}=this.props;return a.Children.map(i,((i,s)=>{if(!i)return;const l=a.createRef();this.itemRefs.push(l);const c=i.key||String(s);let u=!1;u=r?t[0]===c:t.includes(c);const p={key:c,ref:l,expanded:u||i.props.expanded,accordion:r,renderAll:o,overrides:i.props.overrides||d,disabled:i.props.disabled||n,onChange:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.onPanelChange(c,i.props.onChange,...r)}};return a.cloneElement(i,p)}))}render(){const{overrides:e={}}=this.props,{Root:t}=e,[r,n]=(0,d.jb)(t,c);return(0,y.tZ)(r,{"data-baseweb":"accordion",$disabled:this.props.disabled,$isFocusVisible:!1,onKeyDown:this.handleKeyDown.bind(this),...n,children:this.getItems()})}}Z(C,"defaultProps",{accordion:!0,disabled:!1,initialState:{expanded:[]},onChange:()=>{},overrides:{},renderAll:!1,stateReducer:(e,t)=>t});var b=r(55853),x=r(99087);const I=(e,t)=>{let{"aria-controls":r,children:n,disabled:i=!1,expanded:o=!1,onChange:s=(()=>{}),onClick:l=(()=>{}),onKeyDown:c=(()=>{}),overrides:v={},title:Z="",renderAll:C=!1}=e;const[I,B]=a.useState({expanded:o,isFocusVisible:!1,elementHeight:0,animationInProgress:!1}),O=a.useCallback((e=>{(0,x.E)(e)&&B({...I,isFocusVisible:!0})}),[I]),k=a.useCallback((e=>{I.isFocusVisible&&B({...I,isFocusVisible:!1})}),[I]),_=a.useCallback((e=>{i||("function"==typeof s&&s({expanded:!o}),"function"==typeof l&&l(e))}),[o,i,s,l]),M=a.useCallback((e=>{if(i)return;13!==e.keyCode&&32!==e.keyCode||("function"==typeof s&&s({expanded:!o}),32===e.keyCode&&e.preventDefault()),"function"==typeof c&&c(e)}),[o,i,s,c]),S=a.useRef(null);a.useEffect((()=>{if(S.current){const e=S.current.getBoundingClientRect().height;o!==I.expanded?B({...I,expanded:o,animationInProgress:!0}):parseInt(I.elementHeight)!==e&&B({...I,elementHeight:e?"".concat(e,"px"):0})}}),[S.current,o,I.elementHeight,I.expanded,B]);const T=a.useMemo((()=>{if(!o&&I.expanded){const e=S.current.getBoundingClientRect().height;return B({...I,elementHeight:e?"".concat(e,"px"):0}),I.elementHeight}return I.expanded?I.animationInProgress?I.elementHeight:"auto":0}),[o,I.expanded,I.animationInProgress,I.elementHeight]),P={$disabled:i,$expanded:o,$isFocusVisible:I.isFocusVisible},{PanelContainer:$,Header:U,Content:w,ContentAnimationContainer:z,ToggleIcon:E,ToggleIconGroup:D}=v,[R,H]=(0,d.jb)($,u),[G,V]=(0,d.jb)(U,p),[L,F]=(0,d.jb)(w,h),[Q,j]=(0,d.jb)(z,f),[A,N]=(0,d.jb)(D,m),[X,q]=(0,d.jb)(E,g);return(0,y.tZ)(b.R.Consumer,{children:e=>(0,y.BX)(R,{...P,...H,children:[(0,y.BX)(G,{tabIndex:0,role:"button","aria-expanded":o,"aria-disabled":i||null,...P,...V,...r?{"aria-controls":r}:{},onClick:_,onKeyDown:M,onFocus:(0,x.Ah)(V,O),onBlur:(0,x.Z5)(V,k),ref:t,children:[Z,(0,y.BX)(X,{viewBox:"0 0 24 24",title:I.expanded?e.accordion.collapse:e.accordion.expand,size:16,...q,...P,children:[(0,y.tZ)(A,{...P,...N,children:(0,y.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z"})}),(0,y.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z"})]})]}),(0,y.tZ)(Q,{...P,...j,$height:T,onTransitionEnd:()=>{I.animationInProgress&&B({...I,animationInProgress:!1})},children:(0,y.tZ)(L,{ref:S,...P,...F,...r?{id:r}:{},children:I.expanded||C||I.animationInProgress?n:null})})]})})},B=a.forwardRef(I);B.displayName="Panel";const O=B;var k=r(43738),_=r(72436),M=r(34684),S=r(38370),T=r(4537),P=r(83128),$=r(37740),U=r(35077),w=r(4878),z=r(56182),E=r(12198),D=r(22562),R=r(58305),H=r(23619),G=r(8274),V=r(12456),L=r(66209);const F=(0,_.zo)("div",(e=>{let{$theme:t}=e;return{flexGrow:1}})),Q=(0,_.zo)("div",{flex:1}),j={width:"100%",display:"flex",justifyContent:"space-between"},A=(0,_.zo)("button",{...j,cursor:"pointer"}),N=(0,_.zo)("div",{...j}),X=(0,_.zo)("li",{display:"flex",flexDirection:"row",alignItems:"flex-start"}),q=e=>{const{cartMemberIndex:t,cartByMember:r,getItemClickUrl:i,updateItemQuantity:o,draftOrderMetadata:a,canEditGroupOrderCart:d,startExpanded:s,isExpandable:l=!0,showRemoveParticipantButton:c}=e,[u,p]=n.useState(Boolean(s)),g=(0,M.dH)(r.items),m=l&&g>0,{isDraftOrderCreator:h}=a,f=a.billSplitOption===k.x.SPLIT_BY_SUBTOTAL;return(0,y.tZ)(n.Fragment,{children:(0,y.BX)(X,{children:[(0,y.tZ)(P.dT,{cartByMember:r}),(0,y.tZ)(H.Tr,{}),(0,y.BX)(F,{children:[m?(0,y.BX)(A,{onClick:()=>p(!u),children:[(0,y.tZ)(P.Q_,{cartByMember:r,isDraftOrderCreator:h,participantNumItems:g,isBillSplitOrder:f}),(0,y.tZ)(Q,{}),u?(0,y.tZ)(G.c.TriangleUp,{size:24}):(0,y.tZ)(G.c.TriangleDown,{size:24})]}):(0,y.tZ)(N,{children:(0,y.tZ)(P.Q_,{cartByMember:r,isDraftOrderCreator:h,participantNumItems:g,isBillSplitOrder:f})}),u?(0,y.BX)(y.HY,{children:[(0,y.tZ)($.ZP,{$height:12}),(0,y.tZ)(P.sB,{cartByMember:r,updateItemQuantity:o,getItemClickUrl:i,draftOrderMetadata:a,canEditGroupOrderCart:d}),c?(0,y.BX)(y.HY,{children:[(0,y.tZ)($.ZP,{$height:12}),(0,y.tZ)(P.qH,{cartByMember:r,draftOrderMetadata:a})]}):null]}):null]})]},"grouped-eater-".concat(t))},t)},K=(0,_.zo)("div",{padding:"0 16px"}),W=e=>{let{cartByMember:t,showRemoveParticipantButton:r,cartMemberIndex:n,startExpanded:i=!1,updateCartItemQuantity:o,location:a,isDraftOrderCreator:d,canEditGroupOrderCart:s,storeUuid:l,storeSlug:c,draftOrderMetadata:u}=e;return(0,y.BX)("div",{children:[(0,y.tZ)($.ZP,{$height:16}),(0,y.tZ)(K,{children:(0,y.tZ)(q,{cartByMember:t,cartMemberIndex:n,startExpanded:i,updateItemQuantity:o,getItemClickUrl:(e,t)=>d||t?(0,S.vN_)(a,"editItem",e.shoppingCartItemUuid):(0,S.yz4)(a,{storeUuid:l,storeSlug:c,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.uuid}),draftOrderMetadata:u,canEditGroupOrderCart:s,showRemoveParticipantButton:r})}),(0,y.tZ)($.ZP,{$height:16}),(0,y.tZ)(T.Z,{$height:"1px",$margin:"0"})]})},Y=e=>{var t,r,n;const{groupedItems:o,showRemoveParticipantButton:a=!1}=e,{serverCart:d}=(0,w.iQ)(),{store:s}=(0,z.Z)(null===(t=d.data)||void 0===t?void 0:t.storeUuid),l=(null===(r=s.data)||void 0===r?void 0:r.slug)||"",c=(null===(n=s.data)||void 0===n?void 0:n.uuid)||"";(0,D.Z)();const u=(0,E.Z)(),p=(0,i.T)(),g=(0,U.Z)(),{isDraftOrderCreator:m}=g,{canEditGroupOrderCart:h}=(0,R.Z)(c);return(0,y.tZ)(y.HY,{children:o.map(((e,t)=>(0,y.tZ)(W,{cartMemberIndex:t,cartByMember:e,updateCartItemQuantity:u,location:p,isDraftOrderCreator:m,canEditGroupOrderCart:h,showRemoveParticipantButton:a,storeUuid:c,storeSlug:l,draftOrderMetadata:g},t)))})},J=e=>{let{title:t}=e;return"Collapse"===t?(0,y.tZ)(G.c.TriangleUp,{size:24}):(0,y.tZ)(G.c.TriangleDown,{size:24})},ee=e=>{const{groupedItems:t,groupingTitle:r}=e;return(0,y.tZ)(C,{children:(0,y.tZ)(O,{disabled:!t.length,title:r,overrides:{ToggleIcon:{component:J},Header:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundSecondary}}},Content:{style:e=>{let{$theme:t}=e;return{padding:"4px 4px 0px 4px"}}}},children:(0,y.tZ)(Y,{groupedItems:t,showRemoveParticipantButton:!0})})})},te=(0,_.zo)("div",{display:"flex",flexDirection:"column",margin:"2px 0px 2px"}),re=e=>{const{groupingTitle:t,groupingDescription:r}=e;return(0,y.BX)(te,{children:[(0,y.tZ)(o.Uc,{display:"inline-flex",marginBottom:"scale200",children:t}),(0,y.tZ)(o.aM,{display:"inline-flex",color:"contentTertiary",children:r})]})},ne=e=>{const{groupingTitle:t,groupingDescription:r,onClick:n}=e,{setIsManagingGroupOrder:i}=(0,V.Z)(),[,o]=(0,_.hQ)();return(0,y.tZ)(y.HY,{children:(0,y.tZ)(L.zx,{kind:L.TO.tertiary,onClick:()=>{n(),i(!0)},endEnhancer:()=>(0,y.tZ)(G.c.TriangleRight,{color:o.colors.contentInverseTertiary,size:24}),overrides:{BaseButton:{style:{width:"100%",justifyContent:"space-between"}}},children:(0,y.tZ)(re,{groupingTitle:t,groupingDescription:r})})})}},83128:(e,t,r)=>{r.d(t,{dT:()=>U,Q_:()=>w,sB:()=>z,qH:()=>E});var n=r(82673),i=r(32912),o=r(4878),a=r(30778),d=r(72436),s=r(10688),l=r(23619),c=r(4537),u=r(53469),p=r(38370),g=r(23281),m=r(73500),h=r(42269),f=r(92354),v=r(81152),y=r(40261),Z=r(32403),C=r(66692),b=r(30330);const x=(0,d.zo)("div",{minWidth:"200px",display:"flex",alignItems:"center"});function I(e){let{numItems:t,isCurrentUser:r,isDraftOrderCreator:i,cartByMember:o,isBillSplitOrder:a}=e;const s=(0,f.T)(),[,l]=(0,d.hQ)(),c=()=>(0,b.tZ)(Z.aM,{color:l.colors.contentSecondary,children:(0,b.tZ)(n.v,{id:"go.no_items_added_yet"})}),u=()=>(0,b.BX)(x,{children:[(0,b.tZ)(Z.S$,{color:l.colors.positive,children:(0,b.tZ)(n.v,{id:"go.participant.checked.out.subtext"})}),(0,b.tZ)(v.Z,{}),(0,b.tZ)(Z.aM,{color:l.colors.contentPrimary,children:s(1===t?"go.single_cart_item":"go.multiple_cart_items",{num:t})})]});if((0,C.Z)()){if(a)if(i){if(!r)return 0===t?(0,b.tZ)(c,{}):null!=o&&o.confirmed?(0,b.tZ)(Z.S$,{color:l.colors.positive,children:(0,b.tZ)(n.v,{id:"go.participant.has.paid"})}):(0,b.tZ)(Z.S$,{color:l.colors.contentWarning,children:(0,b.tZ)(n.v,{id:"go.participant.has.not.paid"})});if(0===t)return(0,b.tZ)(c,{})}else{if(r)return 0===t?(0,b.tZ)(Z.S$,{color:l.colors.contentWarning,children:(0,b.tZ)(n.v,{id:"go.banner_add_items"})}):null!=o&&o.confirmed?(0,b.tZ)(u,{}):(0,b.tZ)(y.Z,{width:"240px",children:(0,b.tZ)(Z.S$,{color:l.colors.contentWarning,children:(0,b.tZ)(n.v,{id:"go.participant.not.paid.subtext"})})});if(0===t)return(0,b.tZ)(c,{})}else if(!a)if(i){if(0===t)return(0,b.tZ)(c,{})}else{if(r)return 0===t?(0,b.tZ)(Z.S$,{color:l.colors.contentWarning,children:(0,b.tZ)(n.v,{id:"go.banner_add_items"})}):(0,b.tZ)(u,{});if(0===t)return(0,b.tZ)(c,{})}}else if(0===t)return(0,b.tZ)(Z.aM,{color:l.colors.contentSecondary,children:s(r?"go.banner_add_items":"go.no_items_added_yet")});return 1===t?(0,b.tZ)(Z.aM,{color:l.colors.contentPrimary,children:s("go.single_cart_item",{num:t})}):(0,b.tZ)(Z.aM,{color:l.colors.contentPrimary,children:s("go.multiple_cart_items",{num:t})})}var B=r(27335),O=r(1912),k=r(34684);const _=(0,d.zo)("div",{display:"flex",flex:1}),M=(0,d.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start"}),S=(0,d.zo)("div",{marginBottom:"4px"}),T=(0,d.zo)("div",{display:"flex",flexDirection:"row"}),P=(0,d.zo)("div",{display:"inline-flex",alignItems:"center"}),$=(0,d.zo)("div",{justifyContent:"center",paddingBottom:"16px"}),U=e=>{const{cartByMember:t}=e;return(0,b.tZ)(g.Z,{avatarUrl:t.avatarUrl,$mask:t.confirmed?g.K.POSITIVE:void 0})},w=e=>{const{cartByMember:t,participantNumItems:r,isDraftOrderCreator:i,isBillSplitOrder:o}=e;return(0,b.tZ)(_,{children:(0,b.BX)(M,{children:[(0,b.tZ)(S,{children:(0,b.tZ)(Z.Uc,{children:t.isCurrentUser?(0,b.tZ)(n.v,{id:"go.cart_summary_current_user",data:{name:t.name}}):t.name})}),(0,b.tZ)(P,{children:(0,b.tZ)(I,{numItems:r,isDraftOrderCreator:i,isCurrentUser:t.isCurrentUser,cartByMember:t,isBillSplitOrder:o})})]})})},z=e=>{var t;const{cartByMember:r,updateItemQuantity:n,getItemClickUrl:i,draftOrderMetadata:a,canEditGroupOrderCart:d}=e,{serverCart:u}=(0,o.iQ)(),p=(0,k.Tg)((null===(t=u.data)||void 0===t?void 0:t.items)||[]),{isDraftOrderParticipant:g,isDraftOrderCreator:m,isBillSplitOrder:h,isDraftOrderCartLocked:f}=a;return(0,b.tZ)(s.Z,{separator:()=>(0,b.tZ)(c.Z,{$margin:"16px 0",$height:"1px"}),children:r.items.map(((e,t)=>{var o;const{shoppingCartItemUuid:a,title:s,specialInstructions:c,customizations:v}=e,y=p[a]||[],Z=u.isLoading||!d||g&&!r.isCurrentUser||h&&!r.isCreator&&(m||f);return(0,b.BX)(T,{children:[(0,b.tZ)(B.Z,{itemUuid:e.uuid,value:e.quantity,updateItemQuantity:t=>n(e.shoppingCartItemUuid,parseInt(t)),disabled:Z,isInCart:!0}),(0,b.tZ)(l.ZP,{$width:"16px"}),(0,b.tZ)(O.Z,{itemUuid:e.uuid,storeUuid:e.storeUuid,isDisabled:Z,to:()=>i(e,r.isCurrentUser),title:s,allCustomizations:v,changedCustomizations:y,currencyCode:(null===(o=u.data)||void 0===o?void 0:o.currencyCode)||"",shoppingCartItemUuid:a,specialInstructions:c})]},"grouped-eater-item-".concat(t))}))})},E=e=>{const t=(0,i.k6)(),r=(0,i.TH)(),o=(0,a.I0)(),{cartByMember:d,draftOrderMetadata:s}=e,c=s.isDraftOrderCreator&&!d.isCurrentUser,g=s.isHandledHighCapacityOrder;return c?(0,b.tZ)($,{children:(0,b.BX)(u.Bi,{onClick:()=>{o((0,h.i0)(d)),t.push((0,p.vN_)(r,"removeParticipant"))},children:[(0,b.tZ)(m.Z,{size:16,color:"negative"}),(0,b.tZ)(l.ZP,{$width:"8px"}),g?(0,b.tZ)(n.v,{id:"shared.remove_guest_by_name",data:{name:d.name||""}}):(0,b.tZ)(n.v,{id:"shared.remove_person"})]})}):null}},66692:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(78895),i=r(98014);function o(){return(0,n.ip)({...i.l.is_group_order_v3_enabled,defaultValue:!1})}},12456:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(18898),i=r(32912),o=r(38370),a=r(35077),d=r(24707);function s(){const e=(0,i.TH)(),t=(0,i.k6)(),{isHandledHighCapacityOrder:r}=(0,a.Z)(),{loManageOrder:s}=(0,o.RAN)(e,["loManageOrder"]),l=n.useCallback((r=>{let{isManaging:n,isGroupOrder:i}=r;n?t.push((0,o.LcV)(e,i)):t.replace({search:(0,o.CiO)(e,["loManageOrder"]).search})}),[t,e]);return{isManagingGroupOrder:r&&s===d.kO.GUESTS,isManagingItems:r&&s===d.kO.ITEMS,setIsManagingGroupOrder:e=>l({isManaging:e,isGroupOrder:!0}),setIsManagingItems:e=>l({isManaging:e,isGroupOrder:!1})}}},49942:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(77808),i=r(4878),o=r(35077),a=r(913),d=r(21888),s=r(17926),l=r(83778);const c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(0,s.Z)(),r=(0,l.CF)(),c=(0,d.v)((e=>{let{draftOrder:t}=e;return t.draftOrder})),u=(0,i.A4)(),{deliveryAddress:p,diningMode:g}=(0,o.Z)(),[m,h]=n.useState(!1),f=(0,d.v)((e=>{var t;let{stores:r}=e;return r[(null===(t=c.data)||void 0===t?void 0:t.draftOrder.storeUuid)||""]}))||{isLoading:!1,hasLoaded:!1,data:null,error:null};n.useEffect((()=>{var n,i;if(e||!t||!c.hasLoaded||!(r.hasLoaded||null!=f&&f.hasLoaded)||m)return;const o=((null===(n=r.data)||void 0===n?void 0:n.validationErrors)||[])[0],d=null==f||null===(i=f.error)||void 0===i?void 0:i.message;!o&&!d||(null==o?void 0:o.type)!==a.cz.INVALID_DELIVERY_TIME_RANGE&&"eats.get_store_invalid_delivery_time"!==d||(u.updateDraftOrder({overrides:{deliveryTime:{asap:!0},deliveryLocation:p,diningMode:g}}),h(!0))}),[e,t,u,c.hasLoaded,p,g,r.data,r.hasLoaded,f,m])}},19418:(e,t,r)=>{r.d(t,{h:()=>s});var n=r(77808),i=r(74434),o=r(37424),a=r(47348),d=r(50308);function s(e,t){const r=(0,n.useContext)(o.GM),s=(0,o.G2)(a.U4).from(r),l={queryKey:(0,d.H)("getGuestCheckoutEligibilityV1",e),queryFn:e=>{let{queryKey:t}=e;return s.request("getGuestCheckoutEligibilityV1",t[1])}};t&&t.queryObserverOptions&&Object.assign(l,t.queryObserverOptions);return(0,i.useQuery)(l)}}}]);